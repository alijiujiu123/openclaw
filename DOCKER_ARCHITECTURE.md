# OpenClaw Docker å¼€å‘ç¯å¢ƒæ¶æ„

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å®¿ä¸»æœº (Mac/PC)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  é¡¹ç›®æºç ç›®å½•                                                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚ src/         â”‚  â”‚ test/        â”‚  â”‚ .env         â”‚      â”‚   â”‚
â”‚  â”‚  â”‚ (æºä»£ç )     â”‚  â”‚ (æµ‹è¯•æ–‡ä»¶)   â”‚  â”‚ (ç¯å¢ƒå˜é‡)   â”‚      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“ æŒ‚è½½                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æœ¬åœ°å·¥ä½œç›®å½•                                                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚   â”‚
â”‚  â”‚  â”‚ workspace/   â”‚  â”‚ backups/     â”‚                         â”‚   â”‚
â”‚  â”‚  â”‚ (å·¥ä½œæ–‡ä»¶)   â”‚  â”‚ (å¤‡ä»½æ•°æ®)   â”‚                         â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Docker å®¹å™¨ (openclaw-dev)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  åº”ç”¨å±‚                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â”‚
â”‚  â”‚  â”‚ node_modules â”‚  â”‚ dist/        â”‚  â”‚ æºä»£ç æŒ‚è½½   â”‚      â”‚   â”‚
â”‚  â”‚  â”‚ (ä¾èµ–åŒ…)     â”‚  â”‚ (ç¼–è¯‘è¾“å‡º)   â”‚  â”‚ /app         â”‚      â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æ•°æ®å±‚ (Docker Volumes)                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ openclaw-dev-data (å‘½åå·)                            â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ openclaw.json          # ä¸»é…ç½®                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ channels/              # æ¸ é“é…ç½®                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ credentials/           # API å‡­è¯                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ agents/                # Agent æ•°æ®               â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ <agent-id>/         # æ¯ä¸ª Agent               â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚     â”œâ”€ agent.json       # Agent é…ç½®               â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚     â””â”€ sessions/        # ä¼šè¯è®°å¿†                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚        â””â”€ *.jsonl       # ä¼šè¯æ—¥å¿—                 â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ sessions/              # å…¨å±€ä¼šè¯                 â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ openclaw-dev-skills (å‘½åå·)                          â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€ skills/                # è‡ªå®šä¹‰æŠ€èƒ½               â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€ tools/                 # è‡ªå®šä¹‰å·¥å…·               â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ æ•°æ®æµå›¾

### å¼€å‘å·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¼–å†™ä»£ç   â”‚  åœ¨å®¿ä¸»æœºç¼–è¾‘ src/, test/ ç­‰æ–‡ä»¶
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªåŠ¨æŒ‚è½½  â”‚  Docker å®æ—¶åŒæ­¥åˆ°å®¹å™¨ /app
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é‡æ–°æ„å»º  â”‚  pnpm build ç”Ÿæˆ dist/
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿è¡Œæµ‹è¯•  â”‚  pnpm test éªŒè¯åŠŸèƒ½
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯åŠ¨æœåŠ¡  â”‚  pnpm gateway:dev å¯åŠ¨ Gateway
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®å­˜å‚¨  â”‚  é…ç½®ã€ä¼šè¯ä¿å­˜åˆ° Docker Volume
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¤‡ä»½æ¢å¤æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¤‡ä»½æ•°æ®  â”‚  ./docker-dev.sh backup
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯¼å‡ºå·æ•°æ®  â”‚  ä» Docker Volume å¯¼å‡ºåˆ° tar.gz
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¿å­˜å¤‡ä»½  â”‚  å­˜å‚¨åˆ° ./backups/ ç›®å½•
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯é€‰åŠ å¯†  â”‚  gpg åŠ å¯†å¤‡ä»½æ–‡ä»¶
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿œç¨‹åŒæ­¥  â”‚  rsync åˆ°è¿œç¨‹æœåŠ¡å™¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¢å¤æ•°æ®  â”‚  ./docker-restore.sh <backup-name>
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åœæ­¢å®¹å™¨  â”‚  ç¡®ä¿æ•°æ®ä¸€è‡´æ€§
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ é™¤æ—§å·  â”‚  docker volume rm ...
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ›å»ºæ–°å·  â”‚  docker volume create ...
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯¼å…¥æ•°æ®  â”‚  ä» tar.gz è§£å‹åˆ°æ–°å·
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯åŠ¨å®¹å™¨  â”‚  æ•°æ®å®Œå…¨æ¢å¤
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š æ•°æ®åˆ†ç±»è¯¦è§£

### 1. ä¸´æ—¶æ•°æ®ï¼ˆä¸æŒä¹…åŒ–ï¼‰

```
å®¹å™¨å†…è·¯å¾„ï¼š
â”œâ”€â”€ /app/node_modules/    # ä¾èµ–åŒ…ï¼ˆæ„å»ºæ—¶ç”Ÿæˆï¼‰
â”œâ”€â”€ /app/dist/            # ç¼–è¯‘è¾“å‡ºï¼ˆæ„å»ºæ—¶ç”Ÿæˆï¼‰
â””â”€â”€ /tmp/                 # ä¸´æ—¶æ–‡ä»¶

ç”Ÿå‘½å‘¨æœŸï¼šå®¹å™¨åˆ é™¤åæ¸…é™¤
æ¢å¤æ–¹å¼ï¼šé‡æ–°æ„å»º pnpm install && pnpm build
```

### 2. æŒä¹…æ•°æ®ï¼ˆDocker Volumeï¼‰

```
Docker Volumeï¼š
â”œâ”€â”€ openclaw-dev-data
â”‚   â”œâ”€â”€ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ Agent è®°å¿†
â”‚   â”œâ”€â”€ ä¼šè¯å†å²
â”‚   â””â”€â”€ æ¸ é“å‡­è¯
â”‚
â””â”€â”€ openclaw-dev-skills
    â”œâ”€â”€ è‡ªå®šä¹‰æŠ€èƒ½
    â””â”€â”€ è‡ªå®šä¹‰å·¥å…·

ç”Ÿå‘½å‘¨æœŸï¼šæ°¸ä¹…ä¿å­˜ï¼ˆé™¤éæ‰‹åŠ¨åˆ é™¤å·ï¼‰
æ¢å¤æ–¹å¼ï¼š./docker-restore.sh <backup-name>
```

### 3. å…±äº«æ•°æ®ï¼ˆå®¿ä¸»æœºæŒ‚è½½ï¼‰

```
å®¿ä¸»æœºè·¯å¾„ï¼š
â”œâ”€â”€ ./              # æºä»£ç ï¼ˆå®æ—¶åŒæ­¥ï¼‰
â”œâ”€â”€ ./workspace/    # å·¥ä½œæ–‡ä»¶ï¼ˆå®¿ä¸»æœºå¯è§ï¼‰
â””â”€â”€ ./backups/      # å¤‡ä»½æ–‡ä»¶ï¼ˆå®¿ä¸»æœºå¯è§ï¼‰

ç”Ÿå‘½å‘¨æœŸï¼šå®¿ä¸»æœºæ§åˆ¶
æ¢å¤æ–¹å¼ï¼šæ— éœ€æ¢å¤ï¼ˆä»åœ¨å®¿ä¸»æœºï¼‰
```

## ğŸ›¡ï¸ æ•°æ®ä¿æŠ¤æœºåˆ¶

### å¤šå±‚ä¿æŠ¤

```
ç¬¬ 1 å±‚ï¼šDocker Volume
  â””â”€ è‡ªåŠ¨æŒä¹…åŒ–ï¼Œå®¹å™¨åˆ é™¤ä¸å½±å“

ç¬¬ 2 å±‚ï¼šå®šæœŸå¤‡ä»½
  â””â”€ æ‰‹åŠ¨å¤‡ä»½ï¼š./docker-dev.sh backup
  â””â”€ è‡ªåŠ¨å¤‡ä»½ï¼šcron å®šæ—¶ä»»åŠ¡

ç¬¬ 3 å±‚ï¼šè¿œç¨‹åŒæ­¥
  â””â”€ rsync åˆ°è¿œç¨‹æœåŠ¡å™¨
  â””â”€ äº‘å­˜å‚¨ï¼ˆS3, OSS ç­‰ï¼‰

ç¬¬ 4 å±‚ï¼šç‰ˆæœ¬æ§åˆ¶
  â””â”€ Git ç®¡ç†ä»£ç 
  â””â”€ é…ç½®æ–‡ä»¶å¯é€‰æ‹©æ€§ç‰ˆæœ¬åŒ–
```

### å¤‡ä»½ç­–ç•¥

```
å¿«é€Ÿå¤‡ä»½ï¼ˆæ—¥å¸¸ï¼‰:
  ./docker-dev.sh backup
  â””â”€ å¤‡ä»½åˆ° ./backups/
  â””â”€ åŒ…å«æ‰€æœ‰ Docker Volume
  â””â”€ é€Ÿåº¦ï¼š~10-30 ç§’

å®Œæ•´å¤‡ä»½ï¼ˆé‡è¦èŠ‚ç‚¹ï¼‰:
  1. ./docker-dev.sh backup
  2. rsync -avz backups/ remote:/backups/
  3. gpg --encrypt backups/*.tar.gz
  â””â”€ åŒ…å«æ‰€æœ‰æ•°æ®
  â””â”€ æœ¬åœ° + è¿œç¨‹ + åŠ å¯†
  â””â”€ é€Ÿåº¦ï¼š~1-5 åˆ†é’Ÿ

ç‰ˆæœ¬å‡çº§å‰å¤‡ä»½:
  1. ./docker-dev.sh backup
  2. git pull origin main
  3. ./docker-dev.sh rebuild
  â””â”€ ç¡®ä¿å¯å›æ»š
```

## ğŸ”§ é…ç½®æ–‡ä»¶æ˜ å°„

### ç¯å¢ƒå˜é‡æµå‘

```
å®¿ä¸»æœº .env
    â†“
docker-compose.dev.yml (environment:)
    â†“
å®¹å™¨å†…ç¯å¢ƒå˜é‡
    â†“
OpenClaw åº”ç”¨è¯»å–
    â†“
ä¿å­˜åˆ° Docker Volume
```

### å…³é”®é…ç½®æ–‡ä»¶

```
å®¿ä¸»æœºå™¨:
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡ï¼ˆAPI Keys, é…ç½®ï¼‰
â”œâ”€â”€ .openclaw/             # æœ¬åœ°é…ç½®ï¼ˆå¯é€‰ï¼Œä¼˜å…ˆçº§ä½ï¼‰
â””â”€â”€ project source         # æºä»£ç 

å®¹å™¨å†…:
â”œâ”€â”€ /home/openclaw/.openclaw/  # ä¸»æ•°æ®ç›®å½•ï¼ˆVolumeï¼‰
â”‚   â”œâ”€â”€ openclaw.json          # ä¸»é…ç½®
â”‚   â”œâ”€â”€ channels/              # æ¸ é“é…ç½®
â”‚   â”œâ”€â”€ credentials/           # å‡­è¯
â”‚   â”œâ”€â”€ agents/                # Agent æ•°æ®
â”‚   â””â”€â”€ sessions/              # ä¼šè¯
â””â”€â”€ /app                        # æºä»£ç ï¼ˆæŒ‚è½½ï¼‰
```

## ğŸš€ éƒ¨ç½²åœºæ™¯

### åœºæ™¯ 1ï¼šæ—¥å¸¸å¼€å‘

```
1. å¯åŠ¨ç¯å¢ƒ
   ./docker-dev.sh start

2. ç¼–è¾‘ä»£ç 
   vim src/commands/test.ts

3. æ„å»ºæµ‹è¯•
   ./docker-dev.sh shell
   pnpm build && pnpm test

4. æ•°æ®è‡ªåŠ¨ä¿å­˜
   âœ… é…ç½®ã€ä¼šè¯ä¿å­˜åˆ° Volume
```

### åœºæ™¯ 2ï¼šç‰ˆæœ¬æ›´æ–°

```
1. å¤‡ä»½æ•°æ®
   ./docker-dev.sh backup

2. æ›´æ–°ä»£ç 
   git pull origin main

3. é‡æ–°æ„å»º
   ./docker-dev.sh rebuild

4. æ•°æ®ä¿ç•™
   âœ… æ‰€æœ‰ä¸ªäººæ•°æ®å®‰å…¨
```

### åœºæ™¯ 3ï¼šæ•°æ®æ¢å¤

```
1. æŸ¥çœ‹å¤‡ä»½
   ./docker-restore.sh

2. é€‰æ‹©å¤‡ä»½
   ./docker-restore.sh openclaw-backup-20260205

3. è‡ªåŠ¨æ¢å¤
   âœ… æ‰€æœ‰æ•°æ®æ¢å¤åˆ°æŒ‡å®šæ—¶é—´ç‚¹
```

### åœºæ™¯ 4ï¼šå®Œå…¨é‡ç½®

```
1. åœæ­¢å®¹å™¨
   ./docker-dev.sh stop

2. åˆ é™¤æ•°æ®å·
   docker volume rm openclaw-dev-data openclaw-dev-skills

3. é‡æ–°å¼€å§‹
   ./docker-dev.sh start

âš ï¸ æ‰€æœ‰æ•°æ®æ¸…é™¤
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å·æ€§èƒ½

```
å‘½åå·ï¼ˆDocker Volumeï¼‰:
  â”œâ”€ ä¼˜ç‚¹ï¼šæ€§èƒ½å¥½ï¼ŒDocker ä¼˜åŒ–
  â”œâ”€ ç¼ºç‚¹ï¼šä¸ç›´æ¥å¯è§
  â””â”€ é€‚ç”¨ï¼šé¢‘ç¹è¯»å†™çš„æ•°æ®

ç»‘å®šæŒ‚è½½ï¼ˆBind Mountï¼‰:
  â”œâ”€ ä¼˜ç‚¹ï¼šå®¿ä¸»æœºç›´æ¥è®¿é—®
  â”œâ”€ ç¼ºç‚¹ï¼šæ€§èƒ½ç¨å·®ï¼ˆMac ä¸Šï¼‰
  â””â”€ é€‚ç”¨ï¼šæºä»£ç ã€å·¥ä½œç©ºé—´
```

### ç¼“å­˜ç­–ç•¥

```
node_modules æŒ‚è½½:
  - ä½¿ç”¨åŒ¿åå·é¿å…è¦†ç›–
  - å®¿ä¸»æœº node_modules ä¸æŒ‚è½½
  - å®¹å™¨å†…ç‹¬ç«‹ç»´æŠ¤

dist æŒ‚è½½:
  - åŒ¿åå·é¿å…å†²çª
  - æ„å»ºäº§ç‰©ç‹¬ç«‹ç®¡ç†
  - æ¯æ¬¡æ„å»ºé‡æ–°ç”Ÿæˆ
```

## ğŸ” æ•…éšœæ¢å¤

### æ•°æ®ä¸¢å¤±åœºæ™¯

```
åœºæ™¯ 1: å®¹å™¨æ„å¤–åˆ é™¤
  å½±å“: æ— å½±å“ï¼ˆæ•°æ®åœ¨ Volumeï¼‰
  æ¢å¤: ./docker-dev.sh start

åœºæ™¯ 2: æ•°æ®å·åˆ é™¤
  å½±å“: æ•°æ®ä¸¢å¤±
  æ¢å¤: ./docker-restore.sh <backup>

åœºæ™¯ 3: å®¿ä¸»æœºç£ç›˜æŸå
  å½±å“: æºä»£ç  + æœ¬åœ°å¤‡ä»½ä¸¢å¤±
  æ¢å¤: ä»è¿œç¨‹å¤‡ä»½æ¢å¤ + Git å…‹éš†

åœºæ™¯ 4: é…ç½®é”™è¯¯
  å½±å“: æ— æ³•å¯åŠ¨
  æ¢å¤: openclaw doctor --fix
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](DOCKER_QUICKSTART.md)
- [å¼€å‘æŒ‡å—](DOCKER_DEV.md)
- [æ•°æ®æŒä¹…åŒ–](DOCKER_PERSISTENCE.md)

---

**æ›´æ–°æ—¶é—´ï¼š** 2026-02-05
**ç»´æŠ¤è€…ï¼š** OpenClaw Community
